# HSU Example42 Project Configuration
# HSU Repository Portability Framework - Approach 2 (Multi-Language)

# Project Information
PROJECT_NAME := hsu-example2
PROJECT_DOMAIN := echo
PROJECT_VERSION := 1.0.0

# Include Path Configuration
INCLUDE_PREFIX := make/

# Repository auto-detected as multi-language
GO_DIR := go
PYTHON_DIR := python
ENABLE_GO := yes
ENABLE_PYTHON := yes

# Go Configuration
GO_MODULE_NAME := github.com/core-tools/$(PROJECT_NAME)
GO_BUILD_FLAGS := -v
GO_MOD_FLAGS := -mod=readonly
GO_TEST_FLAGS := -v -race
GO_TEST_TIMEOUT := 10m

# Domain-specific settings (Repo-Portable Import Pattern)
DOMAIN_IMPORT_PREFIX := github.com/core-tools/hsu-$(PROJECT_DOMAIN)
DOMAIN_REPLACE_TARGET := .

# Build Targets
DEFAULT_PORT := 50055
BUILD_CLI := yes
BUILD_SRV := yes
BUILD_LIB := yes

# Build directory structure - Language-specific (recommended for multi-language repos)
GO_CLI_BUILD_DIR := cmd/cli
GO_SRV_BUILD_DIR := cmd/srv
GO_LIB_BUILD_DIR := pkg

PYTHON_CLI_BUILD_DIR := cli
PYTHON_SRV_BUILD_DIR := srv
PYTHON_LIB_BUILD_DIR := lib

# Testing Configuration
TEST_TIMEOUT := 10m
TEST_VERBOSE := yes

# Development Tools
ENABLE_LINTING := yes
ENABLE_FORMATTING := yes
ENABLE_BENCHMARKS := yes

# Nuitka Build Configuration (Python binary compilation)
ENABLE_NUITKA := yes
NUITKA_OUTPUT_NAME := hsu-echo-server
NUITKA_ENTRY_POINT := srv/run_server.py
NUITKA_EXCLUDES_FILE := nuitka_excludes.txt
NUITKA_EXTRA_MODULES := srv.domain.simple_handler
NUITKA_EXTRA_PACKAGES := hsu_echo hsu_echo_simple
NUITKA_EXTRA_FOLLOW_IMPORTS := hsu_core
NUITKA_BUILD_MODE := onefile

